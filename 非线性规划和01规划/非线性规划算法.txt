%定义非线性约束的目标函数
function f=fun1(x)
% f=sum(x.^2)+8;
f=-2*x(1)-3*x(1)^2-3*x(2)-x(2)^2-x(3);
function[g,h]=fun2(x)
% g=[-x(1)^2+x(2)-x(3)^2
%     x(1)+x(2)^2+x(3)^3-20];%非线性不等式约束
% h=[-x(1)-x(2)^2+2
%     x(2)+2*x(3)^2-3];%非线性等式约束
%非线性不等式约束
g=[x(1)+2*x(1)^2+x(2)+2*x(2)^2+x(3)-10
    x(1)+x(1)^2+x(2)+x(2)^2-x(3)-50
    2*x(1)+x(1)^2+2*x(2)+x(3)-40];
%非线性等式约束
h=[x(1)^2+x(3)-2];
%线性小于
A=[-1,-2,0;
    -1,0,0];
b=[-1
    0];
%线性等于

[x,y]=fmincon('fun1',rand(3,1),A,b,[],[],[],[],'fun2');
x,y=-y